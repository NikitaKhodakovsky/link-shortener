services:
    ui:
        image: dev
        user: ${UID:-1000}:${GID:-1000}
        build:
            context: .
            dockerfile: Dockerfile.dev
        volumes:
            - ./:/app
        environment:
            - NODE_ENV=development
        command: turbo dev --filter=ui

    server:
        image: dev
        user: ${UID:-1000}:${GID:-1000}
        build:
            context: .
            dockerfile: Dockerfile.dev
        volumes:
            - ./:/app
        environment:
            - NODE_ENV=development
        command: turbo dev --filter=server

    postgres:
        ports:
            - '5432:5432'
